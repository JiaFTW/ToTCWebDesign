<!DOCTYPE html>
<html lang="en">

<head>
  <title>Taste of the Carribean</title>
  <link rel="stylesheet" href="css/index.css">
</head>

<body>
  <!-- Navigation Bar -->
  <nav>
    <ul>
        <li><a href="index.html">Menu</a></li>
        <li><a href="map.html">Map</a></li>
        <li><a href="order.html">Order</a></li>
        <li><a href="profile.html">Profile</a></li>
        <li><a href="index1.html">Login</a></li>
    </ul>
  </nav>
  <form method="post" onsubmit="profilecheck(event)">
    <div class="imgcontainer">
      <img src="images/TOC_Logo.png" alt="Avatar" class="avatar">
    </div>

    <div class="container">
      <label for="uname"><b>Create Username</b></label>
      <input type="text" placeholder="Enter Username" name="uname" required>
      <label for="psw"><b>Create Password</b></label>
      <input type="password" placeholder="Enter Password" name="psw" required>
      <label for="psw"><b>Confirm Password</b></label>
      <input type="password" placeholder="Enter Password Again" name="confirmpsw" required>
    </div>

    <div class="container">
      <button type="submit">Register User</button>
      <span class="psw"><a href="index.html">Go back to login?</a></span>
    </div>
  </form>
  <script>
    function profilecheck(event) {
      event.preventDefault(); // Prevent form from actually submitting

      let form = event.target;
      let user = form.uname.value;
      let p1 = form.psw.value;
      let p2 = form.confirmpsw.value;

      if (user.trim() === '') {
        alert("Username cannot be empty!");
        return false;
      }
      if (p1.trim() === '') {
        alert("Password cannot be empty!");
        return false;
      }
      if (p1 !== p2) {
        alert("Passwords do not match! Try Again!");
        return false;
      }

      alert("Registration successful! Redirecting to login page...");

      // Delay to allow alert to be seen before redirecting
      setTimeout(function () {
        window.location.href = "index.html";
      }, 1000);

      return false; // Ensures the function doesn't proceed with form submission
    }
  </script>
</body>

</html>